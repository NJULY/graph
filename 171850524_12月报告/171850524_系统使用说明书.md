# 系统使用说明书

**刘扬 171850524**

---
## 目录
* 1. [开发环境](#-1)
* 2. [图元绘制功能](#-1)
		* 2.1 [绘制线段](#-1)
		* 2.2 [绘制圆](#-1)
		* 2.3 [绘制椭圆](#-1)
		* 2.4 [绘制多边形](#-1)
		* 2.5 [绘制曲线](#-1)
* 3. [图元二维变换](#-1)
		* 3.1 [平移](#-1)
		* 3.2 [旋转](#-1)
		* 3.3 [缩放](#-1)
* 4. [线段裁剪](#-1)
* 5. [颜色选择](#-1)
* 6. [画布重置与保存](#-1)
		* 6.1 [重置画布](#-1)
		* 6.2 [保存画布](#-1)
---

## 1. <a name='-1'></a>开发环境
开发平台 : Windows10

开发环境 : QT5.11.2 + QTcreator4.7.1

编译方式 : 

	1. 使用QTcreator自带的编译方式, 构建套件是Desktop QT 5.11.2 MSVC2017 64bit
	
	2. 将binary文件夹下的bin文件夹添加至Path环境变量, 点击binary文件夹的可执行程序GraphicsLab.exe.

命令行使用方式 : 

	打开win10的cmd控制台;
	进入可执行文件所在文件夹;
	输入: GraphicsLab input.txt savePath
	回车执行命令.
	input.txt和savePath是测试指令文件和结果保存路径, 这两个参数的取名只是示例, 实际运行时可以替换.

程序运行后将展示主界面 : 

![主界面](picture/主界面.png "主界面")

---

## 2. <a name='-1'></a>图元绘制功能
### 2.1 <a name='-1'></a>绘制线段
#### 使用说明
1. 选择绘制线段的算法'DDA'与'Bresenham', 通过鼠标点击勾选算法名称前的方框选择算法, 默认选择DDA算法, 若勾选两个算法, 也将使用DDA算法.
2. 点击按钮`直线`选择绘制直线的功能.
3. 将鼠标移动至画布上, 按下鼠标左键用于确定线段的一个端点. 
   
	不松开左键的情况下移动鼠标, 可以实时显示线段.
	
	松开鼠标左键将会确定线段的另一个端点, 此时线段绘制完成.

4. 重复步骤3可以继续绘制线段, 不需要重复选择算法和点击按钮.
#### 功能展示
![绘制线段](picture/绘制线段.png "绘制线段")

### 2.2 <a name='-1'></a>绘制圆
#### 使用说明
1. 点击按钮`圆`选择绘制直线的功能.
2. 将鼠标移动至画布上, 按下鼠标左键确定圆心. 
   
   不松开左键移动鼠标, 鼠标与圆心之间的距离代表半径, 可以实时显示圆.

	松开鼠标确定半径, 完成圆的绘制.
3. 重复步骤2可以继续画圆.
#### 功能展示
![绘制圆](picture/绘制圆.png "绘制圆")

### 2.3 <a name='-1'></a>绘制椭圆
#### 使用说明
1. 点击按钮`椭圆`选择绘制椭圆的功能.
2. 将鼠标移动至画布上, 按下鼠标左键确定椭圆中心.
   
   不松开鼠标左键移动鼠标, 鼠标与椭圆中心的x轴 y轴距离代表了椭圆的x轴 y轴的半轴长, 可以实时显示椭圆.

   松开鼠标确定椭圆的两个半轴长, 完成椭圆的绘制.
3. 重复步骤2可以继续画椭圆.
#### 功能展示
![绘制椭圆](picture/绘制椭圆.png "绘制椭圆")
### 2.4 <a name='-1'></a>绘制多边形
#### 使用说明
1. 选择绘制线段的算法'DDA'与'Bresenham', 通过鼠标点击勾选算法名称前的方框选择算法, 默认选择DDA算法, 若勾选两个算法, 也将使用DDA算法.
2. 点击按钮`多边形`选择绘制多边形的功能.
3. 将鼠标移动至画布上, 按下鼠标左键用于确定线段的一个端点(也作为绘制多边形的起点). 
   
	不松开左键的情况下移动鼠标, 可以实时显示线段.
	
	松开鼠标左键将会确定线段的另一个端点, 此时线段绘制完成.
4. 继续按下鼠标左键并移动鼠标, 将以前一条线段的终点作为本线段的起点, 实时显示线段. 松开鼠标左键结束线段的绘制. 
   
   若松开鼠标左键时, 光标距离多边形起点很近时, 判定结束绘制.
5. 重复步骤3 4可以继续绘制新的多边形, 不需要重复选择算法和点击按钮.
#### 功能展示
![绘制多边形](picture/绘制多边形.png "绘制多边形")
### 2.5 <a name='-1'></a>绘制曲线
#### 使用说明
1. 选择绘制曲线的算法'Bezier'与'B-Spline', 通过鼠标点击勾选算法前的方框选择算法, 默认选择Bezier算法, 若勾选两个算法, 也将使用Bezier算法.
2. 点击按钮`曲线`选择绘制曲线的功能.
3. 将鼠标移动至画布上, 按下鼠标左键-移动鼠标-松开鼠标左键完成一条线段的绘制.

	继续按下鼠标左键-移动鼠标-松开鼠标左键将绘制与之前一条线段相连的线段(此过程类似多边形的绘制).
	
	绘制完最后一条线段后, 在最后一条线段的终点点击一次鼠标左键, 结束曲线的控制多边形的绘制(这个多边形不要求封闭, 所有线段的端点代表着控制点).

	最后将根据控制多边形计算显示出曲线.
4. 重复步骤3可以继续绘制新的曲线, 不需要重复选择算法和点击按钮.
#### 功能展示
![绘制曲线](picture/绘制曲线.png "上方是贝塞尔曲线, 下方是B样条曲线")

---

## 3. <a name='-1'></a>图元二维变换
### 3.1 <a name='-1'></a>平移
#### 使用说明
1. 点击按钮`平移`选择平移图元的功能.
2. 鼠标左键按下选中图元.

	关于选中的判断: 
		
		线段 圆 椭圆 多边形都是通过点击绘制的图形上的一点进行选中, 而不是点击封闭图元的内部. 
		曲线的选中只要点击控制多边形内一点即可. 所以点击曲线上任意一点都可以选中曲线.
		所以综合起来, 通过点击图元上任意一点来实现选中的功能.
3. 鼠标左键不松开移动鼠标, 即可拖动图元进行平移.
4. 松开鼠标左键, 结束平移过程.
5. 重复步骤2 3 4可继续对任意图元进行平移.
#### 功能展示
![图元平移](picture/图元平移/平移前.png "图元平移前")

![图元平移](picture/图元平移/平移后.png "图元平移后")
### 3.2 <a name='-1'></a>旋转
#### 使用说明
1. 在`旋转`按钮右侧的`旋转角度`数字框中输入旋转的角度(只能是整数).
2. 点击按钮`旋转`选择旋转图元的功能.
3. 鼠标左键在画布上单击选择旋转点.
4. 鼠标左键按下选中图元, 松开后图元顺时针旋转相应的角度. 继续选中任意图元仍可在旋转点和旋转角度不变的情况下进行旋转.
5. 重复步骤1 2 3 4可以重新选择旋转角度和旋转点对图元进行旋转.
#### 功能展示
![图元旋转](picture/图元旋转/旋转前.png "图元旋转前")

![图元旋转](picture/图元旋转/旋转后.png "图元旋转后")
### 3.3 <a name='-1'></a>缩放
#### 使用说明
1. 在`缩放`按钮右侧的`缩放比例`数字框中输入缩放系数(浮点数).
2. 点击按钮`缩放`选择缩放图元的功能.
3. 鼠标左键在画布上单击选择缩放基准点.
4. 鼠标左键按下选中图元, 松开后图元会进行对应的缩放. 继续选中任意图元可在缩放基准点和缩放系数不变的情况下进行缩放.
5. 重复步骤1 2 3 4可以重新选择缩放系数和缩放基准点对图元进行缩放.
#### 功能展示
![图元缩放](picture/图元缩放/缩放前.png "图元缩放前")

![图元缩放](picture/图元缩放/缩放后.png "图元缩放后")

---

## 4. <a name='-1'></a>线段裁剪
#### 使用说明
1. 选择线段裁剪的算法'Cohen-Sutherland'与'Liang-Barsky', 通过鼠标点击勾选算法前的方框选择算法, 默认选择Bezier算法, 若勾选两个算法, 也将使用Bezier算法.
2. 点击按钮`裁剪`选择直线裁剪的功能.
3. 在画布上按下鼠标左键确定一点, 移动鼠标, 可以实时显示矩形, 该矩形代表着裁剪窗口. 
   
   松开鼠标左键, 两点构成的线段是矩形的对角线. 之后矩形消失, 执行裁剪的功能(矩形的作用是直接显示裁剪窗口, 起辅助作用). 
   
   位于矩形内部的线段部分将得以保留, 窗口外的部分将被裁剪掉.
4. 重复步骤3可以继续以同样的算法进行线段裁剪.
#### 功能展示
![线段裁剪](picture/线段裁剪/裁剪前.png "线段裁剪前")

![线段裁剪](picture/线段裁剪/裁剪后.png "线段裁剪后")

---
## 4. <a name='-1'></a>颜色选择
#### 使用说明
1. 点击`颜色`按钮.
2. 弹出选择颜色的对话框, 选择颜色.
3. 点击`OK`按钮, 对话框消失, `颜色`按钮右侧的文本框将显示选择的颜色.
#### 功能展示
![颜色选择](picture/颜色选择/选择前.png "颜色选择前")

![颜色选择](picture/颜色选择/选择中.png "颜色选择对话框")
![颜色选择](picture/颜色选择/选择后.png "颜色选择完成")

---

## 6. <a name='-1'></a>画布重置与保存
### 6.1 <a name='-1'></a>重置画布
#### 使用说明
1. 点击`重置画布`按钮.
2. 弹出对话框输入画布的宽和高(默认600*600).
3. 点击`确定`按钮, 对话框消失, 画布被重置.
#### 功能展示
![重置画布1](picture/重置画布/重置前.png "重置画布前")

![重置画布1](picture/重置画布/重置中.png "重置画布中")

![重置画布1](picture/重置画布/重置后.png "重置画布后")
### 6.2 <a name='-1'></a>保存画布
#### 使用说明
1. 点击`保存画布`按钮.
2. 弹出文件对话框, 选择要保存的路径和格式.
3. 点击`确定`按钮, 画布将以指定的格式和命名保存到指定的路径下.
#### 功能展示
![保存画布](picture/保存画布/保存前.png "保存画布前")

![保存画布](picture/保存画布/保存中.png "保存画布中")

![保存画布](picture/保存画布/保存后.png "保存画布后")

---
